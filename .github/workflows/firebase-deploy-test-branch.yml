# .github/workflows/firebase-deploy.yml

name: Firebase Hosting è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ (æœ¬ç•ªç’°å¢ƒ)

on:
  push:
    # mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¾ã™
    branches:
      - test 

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸš€ ã‚³ãƒ¼ãƒ‰ã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
        uses: actions/checkout@v4

     # - name: ğŸ’» Node.jsã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
      #  uses: actions/setup-node@v4
     #   with:
        #  node-version: '20'

     # - name: ğŸ“¦ ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    #  run: npm install
        
      # ğŸ”¥ ã“ã“ãŒFirebaseãƒ‡ãƒ—ãƒ­ã‚¤ã®é‡è¦ãªã‚¹ãƒ†ãƒƒãƒ—ã§ã™
      - name: ğŸ”¥ Firebase Hostingã¸ãƒ‡ãƒ—ãƒ­ã‚¤
        uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          # GitHub Secretsã«ç™»éŒ²æ¸ˆã¿ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½¿ç”¨
          firebaseServiceAccount: ${{ secrets.FIREBASE_TOKEN }}
          # ãƒ‡ãƒ—ãƒ­ã‚¤ãƒãƒ£ãƒãƒ«ï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰
          channelId: live
          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID (æœªæŒ‡å®šã®å ´åˆã¯ .firebaserc ã‹ã‚‰è‡ªå‹•æ¤œå‡º)
          # projectId: [ã“ã“ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã‚’è¨˜å…¥ã—ã¦ã‚‚è‰¯ã„]

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Base styles for the main layout */
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f0f2f5; 
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        /* Make the main content scrollable and flexible */
        .main-content {
            overflow-y: auto;
            flex-grow: 1;
            padding: 1rem;
        }
        /* Menu link animations and shadows */
        .menu-link {
            transition: all 0.2s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .menu-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }
    </style>
    <script>
        // Tailwind CSS configuration with custom colors
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼
                        'green-in': '#00a040',
                        'red-out': '#e53935',
                        'yellow-report': '#ffc107',
                        'cyan-view': '#17a2b8',
                        'orange-calc': '#ff9800',
                    }
                }
            }
        }
    </script>
</head>
<body>

    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ (æƒ…å ±è¡¨ç¤ºã‚¨ãƒªã‚¢) - stickyã‚’é©ç”¨ã—ã€å¸¸ã«ä¸Šéƒ¨ã«è¡¨ç¤º -->
    <header id="info-header" class="bg-cyan-view text-white p-4 shadow-2xl flex-shrink-0 sticky top-0 z-10">
        <div class="max-w-4xl mx-auto flex justify-between items-start space-x-4">
            
            <!-- 1. QRã‚³ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ (å·¦å´) -->
            <div id="qr-code-container" class="w-24 h-24 flex-shrink-0 bg-white p-1 rounded-lg shadow-inner flex items-center justify-center border-2 border-cyan-200">
                <img id="qr-code-image" 
                    src="qr.png" 
                    alt="QRã‚³ãƒ¼ãƒ‰ç”»åƒã‚’ã“ã“ã«é…ç½®" 
                    class="object-contain rounded w-full h-full"
                    onerror="this.style.display='none'; this.parentNode.innerHTML='<div class=\'text-xs text-gray-400 text-center\'>QRç”»åƒ\næœªè¨­å®š</div>'">
            </div>

            <!-- 2. æƒ…å ±ã‚¨ãƒªã‚¢ (å³å´) - è¡¨ç¤ºå†…å®¹ã‚’ã”è¦æœ›ã«åˆã‚ã›ã¦ä¿®æ­£ -->
            <div class="flex-1 flex flex-col justify-between space-y-2 min-w-0 text-right">
                
                <!-- TOP ROW: å ´å†…äººæ•° (æœ€ã‚‚å¤§ããè¡¨ç¤º) -->
                <div id="current-count-display" class="text-4xl md:text-5xl font-extrabold flex items-end justify-end">
                    <!-- å ´å†…äººæ•°:0 -->
                    å ´å†…äººæ•°: 
                    <span id="current-count-value" class="ml-2 text-yellow-400 tabular-nums">0</span>
                </div>

                <!-- MIDDLE ROW: 100äººã‚ãŸã‚Šå¾…ã¡æ™‚é–“ -->
                <div id="wait-time-display" class="w-full text-sm md:text-base font-light opacity-95">
                    <!-- 100äººå½“ãŸã‚Šå¾…ã¡æ™‚é–“: --åˆ† -->
                    100äººå½“ãŸã‚Šå¾…ã¡æ™‚é–“: 
                    <span id="wait-time-value" class="font-bold tabular-nums">--</span>åˆ†
                </div>
                
                <!-- BOTTOM ROW: å…¥å ´è€…æ•°ã‚µãƒãƒªãƒ¼ (è¨ˆ:ã‚’å«ã‚€è¡¨ç¤º) -->
                <div class="w-full text-xs md:text-sm font-light opacity-90 pt-1 border-t border-cyan-400/50">
                    <!-- å…¥å ´è€…æ•°: Day(æ—¥ä»˜)10äºº Day(æ—¥ä»˜)20äºº è¨ˆ:30äºº -->
                    å…¥å ´è€…æ•°: 
                    Day1(<span id="event-day1-date">--/--</span>)<span class="font-bold ml-1 tabular-nums" id="day1-visitors">0</span>äºº 
                    Day2(<span id="event-day2-date">--/--</span>)<span class="font-bold ml-1 tabular-nums" id="day2-visitors">0</span>äºº 
                    è¨ˆ:<span class="font-bold ml-1 tabular-nums" id="total-visitors">0</span>äºº
                </div>
            </div>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="main-content flex flex-col justify-start items-center">
        <div class="w-full max-w-xl flex flex-col gap-4 py-6">
            
            <!-- ğŸŸ¢ 1. å…¥å ´ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ (ãƒ•ã‚¡ã‚¤ãƒ«å: counter.html) -->
            <a href="counter.html" 
                id="counter-in-link" 
                class="menu-link bg-green-in hover:bg-green-700 text-white p-8 rounded-2xl text-2xl font-bold flex justify-center items-center h-24">
                ğŸŸ¢ å…¥å ´ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ï¼ˆå…¥å ´ï¼‰
            </a>
            
            <!-- ğŸ”´ 2. å‡ºå£ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ (ãƒ•ã‚¡ã‚¤ãƒ«å: counterout.html) -->
            <a href="counterout.html" 
                id="counter-out-link" 
                class="menu-link bg-red-out hover:bg-red-700 text-white p-8 rounded-2xl text-2xl font-bold flex justify-center items-center h-24">
                ğŸ”´ å‡ºå£ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ï¼ˆé€€å ´ / å‡ºå£å…¥å ´ï¼‰
            </a>
            
            <!-- ğŸ“ 3. ãƒˆãƒ©ãƒ–ãƒ«ç­‰è¨˜éŒ² (ãƒ•ã‚¡ã‚¤ãƒ«å: report.html) -->
            <a href="report.html" 
                id="report-link" 
                class="menu-link bg-yellow-report hover:bg-yellow-500 text-gray-800 p-8 rounded-2xl text-2xl font-bold flex justify-center items-center h-24">
                ğŸ“ ãƒˆãƒ©ãƒ–ãƒ«ç­‰è¨˜éŒ²
            </a>
            
            <!-- ğŸ“ˆ 4. å ´å†…äººæ•°ã‚°ãƒ©ãƒ•ãƒ“ãƒ¥ãƒ¼ (ãƒ•ã‚¡ã‚¤ãƒ«å: view.html) -->
            <a href="view.html" 
                id="view-link" 
                class="menu-link bg-cyan-view hover:bg-cyan-700 text-white p-8 rounded-2xl text-2xl font-bold flex justify-center items-center h-24">
                ğŸ“ˆ å ´å†…äººæ•°ã‚°ãƒ©ãƒ•ãƒ“ãƒ¥ãƒ¼
            </a>
            
            <!-- ğŸ•’ 5. å¾…ã¡æ™‚é–“è¨ˆç®— (ãƒ•ã‚¡ã‚¤ãƒ«å: wait_time_calculator.html) -->
            <a href="wait_time_calculator.html" 
                id="calculator-link" 
                class="menu-link bg-orange-calc hover:bg-orange-700 text-white p-8 rounded-2xl text-2xl font-bold flex justify-center items-center h-24">
                ğŸ•’ å¾…ã¡æ™‚é–“è¨ˆç®—
            </a>
        </div>
    </div>

    <!-- Firebase SDK (ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯) -->
    <script type="module">
        // Firebase SDKã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ (ãƒãƒ¼ã‚¸ãƒ§ãƒ³11.6.1ã‚’ä½¿ç”¨)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, collection, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // ----------------------------------------------------
        // 1. Firebaseè¨­å®šã¨ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        // ----------------------------------------------------
        
        let firebaseConfig = null;
        if (typeof __firebase_config !== 'undefined' && __firebase_config) {
            try {
                firebaseConfig = JSON.parse(__firebase_config);
            } catch (e) {
                console.error("Failed to parse __firebase_config:", e);
            }
        }

        if (!firebaseConfig) {
            console.warn("ç’°å¢ƒå¤‰æ•°__firebase_configãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®šã‚’ä½¿ç”¨ã—ã¾ã™ã€‚");
            firebaseConfig = {
                apiKey: "AIzaSyAgLH9FWBCJy-X11vu0r3YS-VZC-B9M2xA",
                authDomain: "setapanmarketcounter.firebaseapp.com",
                databaseURL: "https://setapanmarketcounter-default-rtdb.firebaseio.com",
                projectId: "setapanmarketcounter",
                storageBucket: "setapanmarketcounter.firebasestorage.app",
                messagingSenderId: "546423839721",
                appId: "1:546423839721:web:70d5c12129fe6cc1594978",
                measurementId: "G-70KHJ0P1P1"
            };
        }

        const appId = typeof __app_id !== 'undefined' ? __app_id : 'setapanmarketcounter'; 
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db, auth;
        let userId = null;
        let daySettings = { day1: null, day2: null }; 
        // ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹å¤‰æ•° (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ã®ãŸã‚ã«å¿…è¦)
        let logData = []; 
        let calculationInterval = null; // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«

        // UIè¦ç´ 
        const currentCountValueEl = document.getElementById('current-count-value');
        const waitTimeValueEl = document.getElementById('wait-time-value');
        const day1VisitorsEl = document.getElementById('day1-visitors');
        const day2VisitorsEl = document.getElementById('day2-visitors');
        const totalVisitorsEl = document.getElementById('total-visitors');
        const eventDay1DateEl = document.getElementById('event-day1-date');
        const eventDay2DateEl = document.getElementById('event-day2-date');
        
        // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹å®šç¾©ãƒ˜ãƒ«ãƒ‘ãƒ¼
        const getPublicCollectionPath = (collectionName) => 
            // ãƒ‘ã‚¹å½¢å¼: /artifacts/setapanmarketcounter/public/data/{collectionName}
            `/artifacts/${appId}/public/data/${collectionName}`;

        const getDayDocRef = (dbInstance) => 
            doc(dbInstance, getPublicCollectionPath('static'), 'day'); // static/day ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§

        const getLogCollectionRef = (dbInstance) => 
            collection(dbInstance, getPublicCollectionPath('log')); // log ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§

        // æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼ (MM/DDå½¢å¼)
        const formatDate = (timestamp) => {
            if (!timestamp) return '--/--';
            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);
            return date.toLocaleDateString('ja-JP', { month: '2-digit', day: '2-digit', timeZone: 'Asia/Tokyo' });
        };

        // ----------------------------------------------------
        // 2. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ™‚é–“ãŒé–¢ä¿‚ã™ã‚‹è¨ˆç®—é–¢æ•° (New)
        // ----------------------------------------------------
        /**
         * ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ™‚é–“ (new Date()) ã‚’åŸºã«ã€å ´å†…äººæ•°ã¨å¾…ã¡æ™‚é–“ã‚’æ›´æ–°ã—ã¾ã™ã€‚
         * onSnapshotã§ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚ŒãŸæ™‚ã€ãŠã‚ˆã³setIntervalã§æ™‚é–“ãŒçµŒéã—ãŸæ™‚ã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚
         */
        function updateCalculations() {
            // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ç¾åœ¨æ—¥æ™‚ã‚’ç›´æ¥å–å¾—
            const now = new Date();
            const todayStr = now.toLocaleDateString('ja-JP', { timeZone: 'Asia/Tokyo' });
            
            let currentCount = 0;
            let day1TotalIn = 0;
            let day2TotalIn = 0;

            // ğŸ”¹éå»â—¯åˆ†ï¼ˆå¯å¤‰ï¼‰ã‚’è¨­å®š
            const lookbackMinutes = 30; // 30åˆ†é–“ã®ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
            const lookbackMs = lookbackMinutes * 60 * 1000;
            const sinceTime = new Date(now.getTime() - lookbackMs);

            let recentInCount = 0; // éå»30åˆ†é–“ã®å…¥å ´æ•°

            logData.forEach(data => {
                const type = data.type; // "in" or "out"
                const eventDay = data.event_day;
                const count = typeof data.count === 'number' && data.count > 0 ? data.count : 1;
                const ts = data.timestamp?.toDate ? data.timestamp.toDate() : null;
                if (!ts) return;

                const tsDateStr = ts.toLocaleDateString('ja-JP', { timeZone: 'Asia/Tokyo' });
                // å½“æ—¥ä»¥å¤–ã¯ç„¡è¦– (Day1/Day2ã¯é™çš„æ—¥ä»˜è¨­å®šã«ä¾å­˜ã™ã‚‹ãŸã‚ã€ã“ã“ã§ã¯Todayã§ãƒ•ã‚£ãƒ«ã‚¿)
                if (tsDateStr !== todayStr) return; 

                // å½“æ—¥ãƒ‡ãƒ¼ã‚¿ã‚’é›†è¨ˆ
                if (type === 'in') {
                    currentCount += count;
                    if (eventDay === 'day1') day1TotalIn += count;
                    else if (eventDay === 'day2') day2TotalIn += count;

                    // ğŸ”¹30åˆ†ä»¥å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚«ã‚¦ãƒ³ãƒˆ (ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ™‚é–“ 'now' ã«ä¾å­˜)
                    if (ts >= sinceTime) recentInCount += count;
                } else if (type === 'out') {
                    currentCount -= count;
                }
            });

            // ğŸ”¹ç¾åœ¨å ´å†…äººæ•°
            currentCount = Math.max(0, currentCount);
            currentCountValueEl.textContent = currentCount.toLocaleString();

            // ğŸ”¹å„æ—¥åˆè¨ˆ (onSnapshotã§æ›´æ–°ã•ã‚Œã‚‹ãŒã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ãŒä½ã„ãŸã‚ã“ã“ã§ã‚‚æ›´æ–°ã—ã¦çµ±ä¸€æ€§ã‚’ä¿ã¤)
            day1VisitorsEl.textContent = day1TotalIn.toLocaleString();
            day2VisitorsEl.textContent = day2TotalIn.toLocaleString();
            totalVisitorsEl.textContent = (day1TotalIn + day2TotalIn).toLocaleString();

            // ğŸ”¹100äººã‚ãŸã‚Šå¾…ã¡æ™‚é–“ã‚’ç®—å‡º
            let waitTimeText = '--';
            if (recentInCount > 0) {
                // 100äººã‚ãŸã‚Šã®å¾…ã¡æ™‚é–“ (åˆ†) = (30åˆ† / éå»30åˆ†ã®å…¥å ´è€…æ•°) * 100
                const timePer100 = (lookbackMinutes / recentInCount) * 100;
                waitTimeText = timePer100.toFixed(1); // å°æ•°1æ¡
            }
            waitTimeValueEl.textContent = waitTimeText;

            // ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°: è¨ˆç®—ã«ä½¿ã‚ã‚ŒãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ™‚é–“
            // console.log(`[Calc] Current Time: ${now.toLocaleTimeString('ja-JP')}, Recent In: ${recentInCount}, Wait Time: ${waitTimeText}åˆ†`);
        }

        // ----------------------------------------------------
        // 3. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ãƒªã‚¹ãƒŠãƒ¼
        // ----------------------------------------------------
        function setupRealtimeListener() {
            if (!db) {
                console.error("Firestoreã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚");
                return;
            }

            // --- A. æ—¥ä»˜è¨­å®šã®ç›£è¦– (static/day) ---
            onSnapshot(getDayDocRef(db), (docSnap) => {
                if (docSnap.exists()) {
                    daySettings = docSnap.data();
                    // day1, day2ã®æ—¥ä»˜ã‚’è¡¨ç¤º
                    eventDay1DateEl.textContent = formatDate(daySettings.day1);
                    eventDay2DateEl.textContent = formatDate(daySettings.day2);
                } else {
                    console.warn("æ—¥ä»˜è¨­å®šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚");
                }
            }, (error) => {
                console.error("æ—¥ä»˜è¨­å®šã®è³¼èª­ã‚¨ãƒ©ãƒ¼:", error);
            });

            // --- B. ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®ç›£è¦–ã¨é›†è¨ˆ (logã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³) ---
            onSnapshot(getLogCollectionRef(db), (snapshot) => {
                // ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹
                logData = snapshot.docs.map(doc => doc.data());
                
                // ãƒ‡ãƒ¼ã‚¿ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰å³åº§ã«è¨ˆç®—ã‚’å®Ÿè¡Œ
                updateCalculations(); 
                
            }, (error) => {
                console.error(`ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ç›£è¦–ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                currentCountValueEl.textContent = 'ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ©ãƒ¼';
                waitTimeValueEl.textContent = '--';
            });
            
            // --- C. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ™‚é–“ã«ã‚ˆã‚‹è¨ˆç®—ã®æ›´æ–° (New) ---
            // ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿è‡ªä½“ã«å¤‰åŒ–ãŒãªãã¦ã‚‚ã€30åˆ†é–“ã®ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’å‹•ã‹ã™ãŸã‚ã«5ç§’ã”ã¨ã«å†è¨ˆç®—
            if (calculationInterval) clearInterval(calculationInterval);
            calculationInterval = setInterval(updateCalculations, 5000); 
            console.log("ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨ˆç®—ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ã‚’é–‹å§‹ã—ã¾ã—ãŸ (5ç§’ã”ã¨)ã€‚");
        }

        // ----------------------------------------------------
        // 4. åˆæœŸåŒ–å‡¦ç†
        // ----------------------------------------------------
        async function initializeAppAndAuth() {
            // ç¾åœ¨æ—¥æ™‚ã®è¡¨ç¤ºãƒ»æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸ
            
            if (!firebaseConfig) {
                currentCountValueEl.textContent = 'è‡´å‘½çš„ã‚¨ãƒ©ãƒ¼';
                console.error("è‡´å‘½çš„ã‚¨ãƒ©ãƒ¼: Firebaseè¨­å®šãŒãƒ­ãƒ¼ãƒ‰ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚");
                return;
            }

            setLogLevel('Debug');
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                
                // èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
                
                // èªè¨¼å¾Œã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒªã‚¹ãƒŠãƒ¼ã‚’é–‹å§‹
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        setupRealtimeListener();
                    } else {
                        console.log("åŒ¿åèªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚");
                        currentCountValueEl.textContent = 'èªè¨¼å¤±æ•—';
                    }
                });
                
            } catch (e) {
                console.error(`FirebaseåˆæœŸåŒ–ã¾ãŸã¯èªè¨¼ã‚¨ãƒ©ãƒ¼: ${e.message}`);
                currentCountValueEl.textContent = 'åˆæœŸåŒ–å¤±æ•—';
            }
        }

        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹å§‹
        window.onload = initializeAppAndAuth;
    </script>
</body>
</html>
